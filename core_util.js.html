

<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
      core/util.js - Documentation
  </title>

  <link href="https://www.braintreepayments.com/images/favicon-ccda0b14.png" rel="icon" type="image/png">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
  
  <link type="text/css" rel="stylesheet" href="styles/collapse.css">
  

  

  <!-- start Mixpanel -->
  <script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("1919205b2da72e4da3b9b6639b444d59");</script>
  <!-- end Mixpanel -->
</head>

<body>
  <svg style="display: none;">
    <defs>
      <symbol id="linkIcon" fill="#706d77" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
      </symbol>
    </defs>
  </svg>

  <input type="checkbox" id="nav-trigger" class="nav-trigger" />
  <label for="nav-trigger" class="navicon-button x">
    <div class="navicon"></div>
  </label>

  <label for="nav-trigger" class="overlay"></label>

  <div class="top-nav-wrapper">
    <ul>
      <li >
        <a href="index.html">
          
            <svg fill="#6D6D6D" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
          
          
        </a>
      </li>

      

    </ul>
  </div>

  <nav>
    <h3 class="reference-title">
      DART (Digital Archivists' Routing Tool)
    </h3>

    
      <h3>
        Resources
      </h3>
      
    

    <h3>Classes</h3><ul><li id="AppSetting-nav"><a href="AppSetting.html">AppSetting</a><ul class='methods'><li data-type="method" id="AppSetting-inflateFrom-nav"><a href="AppSetting.html#.inflateFrom">inflateFrom</a></li><li data-type="method" id="AppSetting-validate-nav"><a href="AppSetting.html#validate">validate</a></li></ul></li><li id="APTrustClient-nav"><a href="APTrustClient.html">APTrustClient</a><ul class='methods'><li data-type="method" id="APTrustClient-description-nav"><a href="APTrustClient.html#.description">description</a></li><li data-type="method" id="APTrustClient-_doRequest-nav"><a href="APTrustClient.html#_doRequest">_doRequest</a></li><li data-type="method" id="APTrustClient-_getHeaders-nav"><a href="APTrustClient.html#_getHeaders">_getHeaders</a></li><li data-type="method" id="APTrustClient-_request-nav"><a href="APTrustClient.html#_request">_request</a></li><li data-type="method" id="APTrustClient-hasRequiredConnectionInfo-nav"><a href="APTrustClient.html#hasRequiredConnectionInfo">hasRequiredConnectionInfo</a></li><li data-type="method" id="APTrustClient-provides-nav"><a href="APTrustClient.html#provides">provides</a></li><li data-type="method" id="APTrustClient-recentIngests-nav"><a href="APTrustClient.html#recentIngests">recentIngests</a></li><li data-type="method" id="APTrustClient-recentWorkItems-nav"><a href="APTrustClient.html#recentWorkItems">recentWorkItems</a></li></ul></li><li id="BagCreator-nav"><a href="BagCreator.html">BagCreator</a><ul class='methods'><li data-type="method" id="BagCreator-errorOnExistingDir-nav"><a href="BagCreator.html#errorOnExistingDir">errorOnExistingDir</a></li><li data-type="method" id="BagCreator-run-nav"><a href="BagCreator.html#run">run</a></li></ul></li><li id="Bagger-nav"><a href="Bagger.html">Bagger</a><ul class='methods'><li data-type="method" id="Bagger-_addPayloadFiles-nav"><a href="Bagger.html#_addPayloadFiles">_addPayloadFiles</a></li><li data-type="method" id="Bagger-create-nav"><a href="Bagger.html#create">create</a></li><li data-type="method" id="Bagger-validatePackagingOperation-nav"><a href="Bagger.html#validatePackagingOperation">validatePackagingOperation</a></li></ul></li><li id="BagItFile-nav"><a href="BagItFile.html">BagItFile</a><ul class='methods'><li data-type="method" id="BagItFile-getFileType-nav"><a href="BagItFile.html#.getFileType">getFileType</a></li><li data-type="method" id="BagItFile-getCryptoHash-nav"><a href="BagItFile.html#getCryptoHash">getCryptoHash</a></li><li data-type="method" id="BagItFile-getManifestEntry-nav"><a href="BagItFile.html#getManifestEntry">getManifestEntry</a></li><li data-type="method" id="BagItFile-isPayloadFile-nav"><a href="BagItFile.html#isPayloadFile">isPayloadFile</a></li><li data-type="method" id="BagItFile-isPayloadManifest-nav"><a href="BagItFile.html#isPayloadManifest">isPayloadManifest</a></li><li data-type="method" id="BagItFile-isTagFile-nav"><a href="BagItFile.html#isTagFile">isTagFile</a></li><li data-type="method" id="BagItFile-isTagManifest-nav"><a href="BagItFile.html#isTagManifest">isTagManifest</a></li></ul></li><li id="BagItProfile-nav"><a href="BagItProfile.html">BagItProfile</a><ul class='methods'><li data-type="method" id="BagItProfile-find-nav"><a href="BagItProfile.html#.find">find</a></li><li data-type="method" id="BagItProfile-fromJson-nav"><a href="BagItProfile.html#.fromJson">fromJson</a></li><li data-type="method" id="BagItProfile-inflateFrom-nav"><a href="BagItProfile.html#.inflateFrom">inflateFrom</a></li><li data-type="method" id="BagItProfile-load-nav"><a href="BagItProfile.html#.load">load</a></li><li data-type="method" id="BagItProfile-nameLooksLegal-nav"><a href="BagItProfile.html#.nameLooksLegal">nameLooksLegal</a></li><li data-type="method" id="BagItProfile-suggestGenericBagName-nav"><a href="BagItProfile.html#.suggestGenericBagName">suggestGenericBagName</a></li><li data-type="method" id="BagItProfile-bagDescription-nav"><a href="BagItProfile.html#bagDescription">bagDescription</a></li><li data-type="method" id="BagItProfile-bagInternalIdentifier-nav"><a href="BagItProfile.html#bagInternalIdentifier">bagInternalIdentifier</a></li><li data-type="method" id="BagItProfile-bagTitle-nav"><a href="BagItProfile.html#bagTitle">bagTitle</a></li><li data-type="method" id="BagItProfile-chooseManifestAlgorithms-nav"><a href="BagItProfile.html#chooseManifestAlgorithms">chooseManifestAlgorithms</a></li><li data-type="method" id="BagItProfile-copyDefaultTagValuesFrom-nav"><a href="BagItProfile.html#copyDefaultTagValuesFrom">copyDefaultTagValuesFrom</a></li><li data-type="method" id="BagItProfile-findExactOrPartial-nav"><a href="BagItProfile.html#findExactOrPartial">findExactOrPartial</a></li><li data-type="method" id="BagItProfile-findMatchingTags-nav"><a href="BagItProfile.html#findMatchingTags">findMatchingTags</a></li><li data-type="method" id="BagItProfile-firstMatchingTag-nav"><a href="BagItProfile.html#firstMatchingTag">firstMatchingTag</a></li><li data-type="method" id="BagItProfile-getTagFileContents-nav"><a href="BagItProfile.html#getTagFileContents">getTagFileContents</a></li><li data-type="method" id="BagItProfile-getTagsFromFile-nav"><a href="BagItProfile.html#getTagsFromFile">getTagsFromFile</a></li><li data-type="method" id="BagItProfile-hasTagFile-nav"><a href="BagItProfile.html#hasTagFile">hasTagFile</a></li><li data-type="method" id="BagItProfile-isCustomTagFile-nav"><a href="BagItProfile.html#isCustomTagFile">isCustomTagFile</a></li><li data-type="method" id="BagItProfile-isValidBagName-nav"><a href="BagItProfile.html#isValidBagName">isValidBagName</a></li><li data-type="method" id="BagItProfile-mergeTagValues-nav"><a href="BagItProfile.html#mergeTagValues">mergeTagValues</a></li><li data-type="method" id="BagItProfile-mustBeTarred-nav"><a href="BagItProfile.html#mustBeTarred">mustBeTarred</a></li><li data-type="method" id="BagItProfile-preferredSerialization-nav"><a href="BagItProfile.html#preferredSerialization">preferredSerialization</a></li><li data-type="method" id="BagItProfile-suggestBagName-nav"><a href="BagItProfile.html#suggestBagName">suggestBagName</a></li><li data-type="method" id="BagItProfile-tagFileNames-nav"><a href="BagItProfile.html#tagFileNames">tagFileNames</a></li><li data-type="method" id="BagItProfile-tagsGroupedByFile-nav"><a href="BagItProfile.html#tagsGroupedByFile">tagsGroupedByFile</a></li><li data-type="method" id="BagItProfile-validate-nav"><a href="BagItProfile.html#validate">validate</a></li></ul></li><li id="BagItProfileController-nav"><a href="BagItProfileController.html">BagItProfileController</a><ul class='methods'><li data-type="method" id="BagItProfileController-_enterKeyHandler-nav"><a href="BagItProfileController.html#_enterKeyHandler">_enterKeyHandler</a></li><li data-type="method" id="BagItProfileController-_getPageHTML-nav"><a href="BagItProfileController.html#_getPageHTML">_getPageHTML</a></li><li data-type="method" id="BagItProfileController-create-nav"><a href="BagItProfileController.html#create">create</a></li><li data-type="method" id="BagItProfileController-deleteTagDef-nav"><a href="BagItProfileController.html#deleteTagDef">deleteTagDef</a></li><li data-type="method" id="BagItProfileController-edit-nav"><a href="BagItProfileController.html#edit">edit</a></li><li data-type="method" id="BagItProfileController-exportProfile-nav"><a href="BagItProfileController.html#exportProfile">exportProfile</a></li><li data-type="method" id="BagItProfileController-getNewProfileFromBase-nav"><a href="BagItProfileController.html#getNewProfileFromBase">getNewProfileFromBase</a></li><li data-type="method" id="BagItProfileController-importStart-nav"><a href="BagItProfileController.html#importStart">importStart</a></li><li data-type="method" id="BagItProfileController-new-nav"><a href="BagItProfileController.html#new">new</a></li><li data-type="method" id="BagItProfileController-newTagFile-nav"><a href="BagItProfileController.html#newTagFile">newTagFile</a></li><li data-type="method" id="BagItProfileController-newTagFileCreate-nav"><a href="BagItProfileController.html#newTagFileCreate">newTagFileCreate</a></li><li data-type="method" id="BagItProfileController-update-nav"><a href="BagItProfileController.html#update">update</a></li></ul></li><li id="BagItProfileForm-nav"><a href="BagItProfileForm.html">BagItProfileForm</a><ul class='methods'><li data-type="method" id="BagItProfileForm-_setProfileInfoFields-nav"><a href="BagItProfileForm.html#_setProfileInfoFields">_setProfileInfoFields</a></li><li data-type="method" id="BagItProfileForm-parseFromDOM-nav"><a href="BagItProfileForm.html#parseFromDOM">parseFromDOM</a></li></ul></li><li id="BagItProfileInfo-nav"><a href="BagItProfileInfo.html">BagItProfileInfo</a></li><li id="BagItUtil-nav"><a href="BagItUtil.html">BagItUtil</a><ul class='methods'><li data-type="method" id="BagItUtil-_getProfileName-nav"><a href="BagItUtil.html#._getProfileName">_getProfileName</a></li><li data-type="method" id="BagItUtil-guessProfileType-nav"><a href="BagItUtil.html#.guessProfileType">guessProfileType</a></li><li data-type="method" id="BagItUtil-profileFromLOC-nav"><a href="BagItUtil.html#.profileFromLOC">profileFromLOC</a></li><li data-type="method" id="BagItUtil-profileFromLOCOrdered-nav"><a href="BagItUtil.html#.profileFromLOCOrdered">profileFromLOCOrdered</a></li><li data-type="method" id="BagItUtil-profileFromStandardJson-nav"><a href="BagItUtil.html#.profileFromStandardJson">profileFromStandardJson</a></li><li data-type="method" id="BagItUtil-profileFromStandardObject-nav"><a href="BagItUtil.html#.profileFromStandardObject">profileFromStandardObject</a></li><li data-type="method" id="BagItUtil-profileToStandardJson-nav"><a href="BagItUtil.html#.profileToStandardJson">profileToStandardJson</a></li><li data-type="method" id="BagItUtil-profileToStandardObject-nav"><a href="BagItUtil.html#.profileToStandardObject">profileToStandardObject</a></li></ul></li><li id="BagValidationController-nav"><a href="BagValidationController.html">BagValidationController</a><ul class='methods'><li data-type="method" id="BagValidationController-show-nav"><a href="BagValidationController.html#show">show</a></li></ul></li><li id="BagValidationForm-nav"><a href="BagValidationForm.html">BagValidationForm</a></li><li id="BagValidator-nav"><a href="BagValidator.html">BagValidator</a><ul class='methods'><li data-type="method" id="BagValidator-run-nav"><a href="BagValidator.html#run">run</a></li></ul></li><li id="BaseController-nav"><a href="BaseController.html">BaseController</a><ul class='methods'><li data-type="method" id="BaseController-containerContent-nav"><a href="BaseController.html#containerContent">containerContent</a></li><li data-type="method" id="BaseController-destroy-nav"><a href="BaseController.html#destroy">destroy</a></li><li data-type="method" id="BaseController-edit-nav"><a href="BaseController.html#edit">edit</a></li><li data-type="method" id="BaseController-list-nav"><a href="BaseController.html#list">list</a></li><li data-type="method" id="BaseController-modalContent-nav"><a href="BaseController.html#modalContent">modalContent</a></li><li data-type="method" id="BaseController-new-nav"><a href="BaseController.html#new">new</a></li><li data-type="method" id="BaseController-noContent-nav"><a href="BaseController.html#noContent">noContent</a></li><li data-type="method" id="BaseController-openExternal-nav"><a href="BaseController.html#openExternal">openExternal</a></li><li data-type="method" id="BaseController-paramsToHash-nav"><a href="BaseController.html#paramsToHash">paramsToHash</a></li><li data-type="method" id="BaseController-postRenderCallback-nav"><a href="BaseController.html#postRenderCallback">postRenderCallback</a></li><li data-type="method" id="BaseController-redirect-nav"><a href="BaseController.html#redirect">redirect</a></li><li data-type="method" id="BaseController-update-nav"><a href="BaseController.html#update">update</a></li></ul></li><li id="BaseWriter-nav"><a href="BaseWriter.html">BaseWriter</a><ul class='methods'><li data-type="method" id="BaseWriter-description-nav"><a href="BaseWriter.html#.description">description</a></li><li data-type="method" id="BaseWriter-add-nav"><a href="BaseWriter.html#add">add</a></li><li data-type="method" id="BaseWriter-init-nav"><a href="BaseWriter.html#init">init</a></li><li data-type="method" id="BaseWriter-onFileWritten-nav"><a href="BaseWriter.html#onFileWritten">onFileWritten</a></li><li data-type="method" id="BaseWriter-percentComplete-nav"><a href="BaseWriter.html#percentComplete">percentComplete</a></li></ul></li><li id="Choice-nav"><a href="Choice.html">Choice</a><ul class='methods'><li data-type="method" id="Choice-makeList-nav"><a href="Choice.html#.makeList">makeList</a></li></ul></li><li id="CSVBatchParser-nav"><a href="CSVBatchParser.html">CSVBatchParser</a><ul class='methods'><li data-type="method" id="CSVBatchParser-_parse-nav"><a href="CSVBatchParser.html#_parse">_parse</a></li><li data-type="method" id="CSVBatchParser-_parseTags-nav"><a href="CSVBatchParser.html#_parseTags">_parseTags</a></li><li data-type="method" id="CSVBatchParser-parseAll-nav"><a href="CSVBatchParser.html#parseAll">parseAll</a></li></ul></li><li id="DartProcess-nav"><a href="DartProcess.html">DartProcess</a></li><li id="DartProcessController-nav"><a href="DartProcessController.html">DartProcessController</a><ul class='methods'><li data-type="method" id="DartProcessController-list-nav"><a href="DartProcessController.html#list">list</a></li></ul></li><li id="DashboardController-nav"><a href="DashboardController.html">DashboardController</a><ul class='methods'><li data-type="method" id="DashboardController-_getJobOutcomeAndTimestamp-nav"><a href="DashboardController.html#_getJobOutcomeAndTimestamp">_getJobOutcomeAndTimestamp</a></li><li data-type="method" id="DashboardController-_getRecentJobSummaries-nav"><a href="DashboardController.html#_getRecentJobSummaries">_getRecentJobSummaries</a></li><li data-type="method" id="DashboardController-_getRepoReportDescriptions-nav"><a href="DashboardController.html#_getRepoReportDescriptions">_getRepoReportDescriptions</a></li><li data-type="method" id="DashboardController-_getRepoRows-nav"><a href="DashboardController.html#_getRepoRows">_getRepoRows</a></li><li data-type="method" id="DashboardController-_getViableRepoClients-nav"><a href="DashboardController.html#_getViableRepoClients">_getViableRepoClients</a></li><li data-type="method" id="DashboardController-show-nav"><a href="DashboardController.html#show">show</a></li></ul></li><li id="DummyReader-nav"><a href="DummyReader.html">DummyReader</a><ul class='methods'><li data-type="method" id="DummyReader-_read-nav"><a href="DummyReader.html#_read">_read</a></li></ul></li><li id="ExportQuestion-nav"><a href="ExportQuestion.html">ExportQuestion</a><ul class='methods'><li data-type="method" id="ExportQuestion-listNameFor-nav"><a href="ExportQuestion.html#.listNameFor">listNameFor</a></li><li data-type="method" id="ExportQuestion-copyResponseToObject-nav"><a href="ExportQuestion.html#copyResponseToObject">copyResponseToObject</a></li><li data-type="method" id="ExportQuestion-getTargetClass-nav"><a href="ExportQuestion.html#getTargetClass">getTargetClass</a></li><li data-type="method" id="ExportQuestion-tryToGetValue-nav"><a href="ExportQuestion.html#tryToGetValue">tryToGetValue</a></li></ul></li><li id="ExportSettings-nav"><a href="ExportSettings.html">ExportSettings</a><ul class='methods'><li data-type="method" id="ExportSettings-anythingSelected-nav"><a href="ExportSettings.html#anythingSelected">anythingSelected</a></li><li data-type="method" id="ExportSettings-getIds-nav"><a href="ExportSettings.html#getIds">getIds</a></li><li data-type="method" id="ExportSettings-toJson-nav"><a href="ExportSettings.html#toJson">toJson</a></li></ul></li><li id="FileStat-nav"><a href="FileStat.html">FileStat</a><ul class='methods'><li data-type="method" id="FileStat-isDirectory-nav"><a href="FileStat.html#isDirectory">isDirectory</a></li><li data-type="method" id="FileStat-isFile-nav"><a href="FileStat.html#isFile">isFile</a></li></ul></li><li id="FileSystemReader-nav"><a href="FileSystemReader.html">FileSystemReader</a><ul class='methods'><li data-type="method" id="FileSystemReader-description-nav"><a href="FileSystemReader.html#.description">description</a></li><li data-type="method" id="FileSystemReader-list-nav"><a href="FileSystemReader.html#list">list</a></li><li data-type="method" id="FileSystemReader-read-nav"><a href="FileSystemReader.html#read">read</a></li></ul></li><li id="FileSystemWriter-nav"><a href="FileSystemWriter.html">FileSystemWriter</a><ul class='methods'><li data-type="method" id="FileSystemWriter-description-nav"><a href="FileSystemWriter.html#.description">description</a></li><li data-type="method" id="FileSystemWriter-add-nav"><a href="FileSystemWriter.html#add">add</a></li></ul></li><li id="Form-nav"><a href="Form.html">Form</a><ul class='methods'><li data-type="method" id="Form-_initField-nav"><a href="Form.html#_initField">_initField</a></li><li data-type="method" id="Form-_initFields-nav"><a href="Form.html#_initFields">_initFields</a></li><li data-type="method" id="Form-castNewValueToType-nav"><a href="Form.html#castNewValueToType">castNewValueToType</a></li><li data-type="method" id="Form-hasErrors-nav"><a href="Form.html#hasErrors">hasErrors</a></li><li data-type="method" id="Form-parseFromDOM-nav"><a href="Form.html#parseFromDOM">parseFromDOM</a></li><li data-type="method" id="Form-setErrors-nav"><a href="Form.html#setErrors">setErrors</a></li></ul></li><li id="GlobalContext-nav"><a href="GlobalContext.html">GlobalContext</a><ul class='methods'><li data-type="method" id="GlobalContext-dartReleaseNumber-nav"><a href="GlobalContext.html#dartReleaseNumber">dartReleaseNumber</a></li><li data-type="method" id="GlobalContext-dartVersion-nav"><a href="GlobalContext.html#dartVersion">dartVersion</a></li><li data-type="method" id="GlobalContext-db-nav"><a href="GlobalContext.html#db">db</a></li><li data-type="method" id="GlobalContext-electronIsRunning-nav"><a href="GlobalContext.html#electronIsRunning">electronIsRunning</a></li><li data-type="method" id="GlobalContext-getPackageInfo-nav"><a href="GlobalContext.html#getPackageInfo">getPackageInfo</a></li><li data-type="method" id="GlobalContext-isElectronDevMode-nav"><a href="GlobalContext.html#isElectronDevMode">isElectronDevMode</a></li></ul></li><li id="InternalSetting-nav"><a href="InternalSetting.html">InternalSetting</a><ul class='methods'><li data-type="method" id="InternalSetting-inflateFrom-nav"><a href="InternalSetting.html#.inflateFrom">inflateFrom</a></li><li data-type="method" id="InternalSetting-validate-nav"><a href="InternalSetting.html#validate">validate</a></li></ul></li><li id="Job-nav"><a href="Job.html">Job</a><ul class='methods'><li data-type="method" id="Job-find-nav"><a href="Job.html#.find">find</a></li><li data-type="method" id="Job-genericName-nav"><a href="Job.html#.genericName">genericName</a></li><li data-type="method" id="Job-inflateFrom-nav"><a href="Job.html#.inflateFrom">inflateFrom</a></li><li data-type="method" id="Job-inflateFromFile-nav"><a href="Job.html#.inflateFromFile">inflateFromFile</a></li><li data-type="method" id="Job-getRunErrors-nav"><a href="Job.html#getRunErrors">getRunErrors</a></li><li data-type="method" id="Job-isRunning-nav"><a href="Job.html#isRunning">isRunning</a></li><li data-type="method" id="Job-packageAttempted-nav"><a href="Job.html#packageAttempted">packageAttempted</a></li><li data-type="method" id="Job-packagedAt-nav"><a href="Job.html#packagedAt">packagedAt</a></li><li data-type="method" id="Job-packageSucceeded-nav"><a href="Job.html#packageSucceeded">packageSucceeded</a></li><li data-type="method" id="Job-uploadAttempted-nav"><a href="Job.html#uploadAttempted">uploadAttempted</a></li><li data-type="method" id="Job-uploadedAt-nav"><a href="Job.html#uploadedAt">uploadedAt</a></li><li data-type="method" id="Job-uploadSucceeded-nav"><a href="Job.html#uploadSucceeded">uploadSucceeded</a></li><li data-type="method" id="Job-validate-nav"><a href="Job.html#validate">validate</a></li><li data-type="method" id="Job-validatedAt-nav"><a href="Job.html#validatedAt">validatedAt</a></li><li data-type="method" id="Job-validationAttempted-nav"><a href="Job.html#validationAttempted">validationAttempted</a></li><li data-type="method" id="Job-validationSucceeded-nav"><a href="Job.html#validationSucceeded">validationSucceeded</a></li></ul></li><li id="JobController-nav"><a href="JobController.html">JobController</a><ul class='methods'><li data-type="method" id="JobController-colorCodeJobs-nav"><a href="JobController.html#colorCodeJobs">colorCodeJobs</a></li><li data-type="method" id="JobController-list-nav"><a href="JobController.html#list">list</a></li><li data-type="method" id="JobController-new-nav"><a href="JobController.html#new">new</a></li></ul></li><li id="JobFilesController-nav"><a href="JobFilesController.html">JobFilesController</a><ul class='methods'><li data-type="method" id="JobFilesController-addFileToPackageSources-nav"><a href="JobFilesController.html#addFileToPackageSources">addFileToPackageSources</a></li><li data-type="method" id="JobFilesController-addItemsToUI-nav"><a href="JobFilesController.html#addItemsToUI">addItemsToUI</a></li><li data-type="method" id="JobFilesController-addItemToUI-nav"><a href="JobFilesController.html#addItemToUI">addItemToUI</a></li><li data-type="method" id="JobFilesController-addRow-nav"><a href="JobFilesController.html#addRow">addRow</a></li><li data-type="method" id="JobFilesController-attachDeleteEvents-nav"><a href="JobFilesController.html#attachDeleteEvents">attachDeleteEvents</a></li><li data-type="method" id="JobFilesController-attachDragAndDropEvents-nav"><a href="JobFilesController.html#attachDragAndDropEvents">attachDragAndDropEvents</a></li><li data-type="method" id="JobFilesController-findContainingItem-nav"><a href="JobFilesController.html#findContainingItem">findContainingItem</a></li><li data-type="method" id="JobFilesController-getTableRow-nav"><a href="JobFilesController.html#getTableRow">getTableRow</a></li><li data-type="method" id="JobFilesController-postRenderCallback-nav"><a href="JobFilesController.html#postRenderCallback">postRenderCallback</a></li><li data-type="method" id="JobFilesController-removeItemFromUI-nav"><a href="JobFilesController.html#removeItemFromUI">removeItemFromUI</a></li><li data-type="method" id="JobFilesController-show-nav"><a href="JobFilesController.html#show">show</a></li><li data-type="method" id="JobFilesController-updateTotal-nav"><a href="JobFilesController.html#updateTotal">updateTotal</a></li><li data-type="method" id="JobFilesController-updateTotals-nav"><a href="JobFilesController.html#updateTotals">updateTotals</a></li></ul></li><li id="JobLoader-nav"><a href="JobLoader.html">JobLoader</a><ul class='methods'><li data-type="method" id="JobLoader-loadJob-nav"><a href="JobLoader.html#loadJob">loadJob</a></li><li data-type="method" id="JobLoader-looksLikeJob-nav"><a href="JobLoader.html#looksLikeJob">looksLikeJob</a></li><li data-type="method" id="JobLoader-looksLikeJobParams-nav"><a href="JobLoader.html#looksLikeJobParams">looksLikeJobParams</a></li></ul></li><li id="JobMetadataController-nav"><a href="JobMetadataController.html">JobMetadataController</a><ul class='methods'><li data-type="method" id="JobMetadataController-_attachTagFileAutocomplete-nav"><a href="JobMetadataController.html#_attachTagFileAutocomplete">_attachTagFileAutocomplete</a></li><li data-type="method" id="JobMetadataController-_attachToggleHiddenTags-nav"><a href="JobMetadataController.html#_attachToggleHiddenTags">_attachToggleHiddenTags</a></li><li data-type="method" id="JobMetadataController-_parseMetadataForm-nav"><a href="JobMetadataController.html#_parseMetadataForm">_parseMetadataForm</a></li><li data-type="method" id="JobMetadataController-_validateMetadataForm-nav"><a href="JobMetadataController.html#_validateMetadataForm">_validateMetadataForm</a></li><li data-type="method" id="JobMetadataController-back-nav"><a href="JobMetadataController.html#back">back</a></li><li data-type="method" id="JobMetadataController-newTag-nav"><a href="JobMetadataController.html#newTag">newTag</a></li><li data-type="method" id="JobMetadataController-next-nav"><a href="JobMetadataController.html#next">next</a></li><li data-type="method" id="JobMetadataController-postRenderCallback-nav"><a href="JobMetadataController.html#postRenderCallback">postRenderCallback</a></li><li data-type="method" id="JobMetadataController-saveNewTag-nav"><a href="JobMetadataController.html#saveNewTag">saveNewTag</a></li><li data-type="method" id="JobMetadataController-show-nav"><a href="JobMetadataController.html#show">show</a></li></ul></li><li id="JobPackageOp-nav"><a href="JobPackageOp.html">JobPackageOp</a></li><li id="JobPackageOpForm-nav"><a href="JobPackageOpForm.html">JobPackageOpForm</a></li><li id="JobPackagingController-nav"><a href="JobPackagingController.html">JobPackagingController</a><ul class='methods'><li data-type="method" id="JobPackagingController-_parseJobPackagingForm-nav"><a href="JobPackagingController.html#_parseJobPackagingForm">_parseJobPackagingForm</a></li><li data-type="method" id="JobPackagingController-_renderPackagingForm-nav"><a href="JobPackagingController.html#_renderPackagingForm">_renderPackagingForm</a></li><li data-type="method" id="JobPackagingController-_updatePackaging-nav"><a href="JobPackagingController.html#_updatePackaging">_updatePackaging</a></li><li data-type="method" id="JobPackagingController-back-nav"><a href="JobPackagingController.html#back">back</a></li><li data-type="method" id="JobPackagingController-next-nav"><a href="JobPackagingController.html#next">next</a></li><li data-type="method" id="JobPackagingController-onFormatChange-nav"><a href="JobPackagingController.html#onFormatChange">onFormatChange</a></li><li data-type="method" id="JobPackagingController-onPackageNameKeyUp-nav"><a href="JobPackagingController.html#onPackageNameKeyUp">onPackageNameKeyUp</a></li><li data-type="method" id="JobPackagingController-onProfileChange-nav"><a href="JobPackagingController.html#onProfileChange">onProfileChange</a></li><li data-type="method" id="JobPackagingController-postRenderCallback-nav"><a href="JobPackagingController.html#postRenderCallback">postRenderCallback</a></li><li data-type="method" id="JobPackagingController-show-nav"><a href="JobPackagingController.html#show">show</a></li></ul></li><li id="JobParams-nav"><a href="JobParams.html">JobParams</a><ul class='methods'><li data-type="method" id="JobParams-inflateFrom-nav"><a href="JobParams.html#.inflateFrom">inflateFrom</a></li><li data-type="method" id="JobParams-_buildJob-nav"><a href="JobParams.html#_buildJob">_buildJob</a></li><li data-type="method" id="JobParams-_getOutputPath-nav"><a href="JobParams.html#_getOutputPath">_getOutputPath</a></li><li data-type="method" id="JobParams-_groupedTags-nav"><a href="JobParams.html#_groupedTags">_groupedTags</a></li><li data-type="method" id="JobParams-_loadBagItProfile-nav"><a href="JobParams.html#_loadBagItProfile">_loadBagItProfile</a></li><li data-type="method" id="JobParams-_loadWorkflow-nav"><a href="JobParams.html#_loadWorkflow">_loadWorkflow</a></li><li data-type="method" id="JobParams-_makePackageOp-nav"><a href="JobParams.html#_makePackageOp">_makePackageOp</a></li><li data-type="method" id="JobParams-_makeUploadOps-nav"><a href="JobParams.html#_makeUploadOps">_makeUploadOps</a></li><li data-type="method" id="JobParams-_mergeTags-nav"><a href="JobParams.html#_mergeTags">_mergeTags</a></li><li data-type="method" id="JobParams-_mergeTagSet-nav"><a href="JobParams.html#_mergeTagSet">_mergeTagSet</a></li><li data-type="method" id="JobParams-_setSerialization-nav"><a href="JobParams.html#_setSerialization">_setSerialization</a></li><li data-type="method" id="JobParams-toJob-nav"><a href="JobParams.html#toJob">toJob</a></li><li data-type="method" id="JobParams-toJobFile-nav"><a href="JobParams.html#toJobFile">toJobFile</a></li><li data-type="method" id="JobParams-validate-nav"><a href="JobParams.html#validate">validate</a></li></ul></li><li id="JobRunController-nav"><a href="JobRunController.html">JobRunController</a><ul class='methods'><li data-type="method" id="JobRunController-_checkOutputPath-nav"><a href="JobRunController.html#_checkOutputPath">_checkOutputPath</a></li><li data-type="method" id="JobRunController-back-nav"><a href="JobRunController.html#back">back</a></li><li data-type="method" id="JobRunController-run-nav"><a href="JobRunController.html#run">run</a></li><li data-type="method" id="JobRunController-show-nav"><a href="JobRunController.html#show">show</a></li></ul></li><li id="JobRunner-nav"><a href="JobRunner.html">JobRunner</a><ul class='methods'><li data-type="method" id="JobRunner-createPackage-nav"><a href="JobRunner.html#createPackage">createPackage</a></li><li data-type="method" id="JobRunner-run-nav"><a href="JobRunner.html#run">run</a></li><li data-type="method" id="JobRunner-uploadFiles-nav"><a href="JobRunner.html#uploadFiles">uploadFiles</a></li><li data-type="method" id="JobRunner-validatePackage-nav"><a href="JobRunner.html#validatePackage">validatePackage</a></li></ul></li><li id="JobStatus-nav"><a href="JobStatus.html">JobStatus</a></li><li id="JobTagsForm-nav"><a href="JobTagsForm.html">JobTagsForm</a><ul class='methods'><li data-type="method" id="JobTagsForm-_tagDefToField-nav"><a href="JobTagsForm.html#_tagDefToField">_tagDefToField</a></li></ul></li><li id="JobUploadController-nav"><a href="JobUploadController.html">JobUploadController</a><ul class='methods'><li data-type="method" id="JobUploadController-back-nav"><a href="JobUploadController.html#back">back</a></li><li data-type="method" id="JobUploadController-next-nav"><a href="JobUploadController.html#next">next</a></li><li data-type="method" id="JobUploadController-show-nav"><a href="JobUploadController.html#show">show</a></li></ul></li><li id="JobUploadForm-nav"><a href="JobUploadForm.html">JobUploadForm</a></li><li id="JsonStore-nav"><a href="JsonStore.html">JsonStore</a></li><li id="KeyValueCollection-nav"><a href="KeyValueCollection.html">KeyValueCollection</a><ul class='methods'><li data-type="method" id="KeyValueCollection-add-nav"><a href="KeyValueCollection.html#add">add</a></li><li data-type="method" id="KeyValueCollection-all-nav"><a href="KeyValueCollection.html#all">all</a></li><li data-type="method" id="KeyValueCollection-first-nav"><a href="KeyValueCollection.html#first">first</a></li><li data-type="method" id="KeyValueCollection-keys-nav"><a href="KeyValueCollection.html#keys">keys</a></li><li data-type="method" id="KeyValueCollection-sortedKeys-nav"><a href="KeyValueCollection.html#sortedKeys">sortedKeys</a></li></ul></li><li id="ManifestEntry-nav"><a href="ManifestEntry.html">ManifestEntry</a><ul class='methods'><li data-type="method" id="ManifestEntry-validate-nav"><a href="ManifestEntry.html#validate">validate</a></li></ul></li><li id="ManifestParser-nav"><a href="ManifestParser.html">ManifestParser</a></li><li id="NewBagItProfileForm-nav"><a href="NewBagItProfileForm.html">NewBagItProfileForm</a></li><li id="OperationResult-nav"><a href="OperationResult.html">OperationResult</a><ul class='methods'><li data-type="method" id="OperationResult-inflateFrom-nav"><a href="OperationResult.html#.inflateFrom">inflateFrom</a></li><li data-type="method" id="OperationResult-finish-nav"><a href="OperationResult.html#finish">finish</a></li><li data-type="method" id="OperationResult-firstError-nav"><a href="OperationResult.html#firstError">firstError</a></li><li data-type="method" id="OperationResult-hasErrors-nav"><a href="OperationResult.html#hasErrors">hasErrors</a></li><li data-type="method" id="OperationResult-lastError-nav"><a href="OperationResult.html#lastError">lastError</a></li><li data-type="method" id="OperationResult-reset-nav"><a href="OperationResult.html#reset">reset</a></li><li data-type="method" id="OperationResult-start-nav"><a href="OperationResult.html#start">start</a></li><li data-type="method" id="OperationResult-succeeded-nav"><a href="OperationResult.html#succeeded">succeeded</a></li></ul></li><li id="PackageOperation-nav"><a href="PackageOperation.html">PackageOperation</a><ul class='methods'><li data-type="method" id="PackageOperation-inflateFrom-nav"><a href="PackageOperation.html#.inflateFrom">inflateFrom</a></li><li data-type="method" id="PackageOperation-getWriter-nav"><a href="PackageOperation.html#getWriter">getWriter</a></li><li data-type="method" id="PackageOperation-pruneSourceFilesUnlessJobCompleted-nav"><a href="PackageOperation.html#pruneSourceFilesUnlessJobCompleted">pruneSourceFilesUnlessJobCompleted</a></li><li data-type="method" id="PackageOperation-trimLeadingPaths-nav"><a href="PackageOperation.html#trimLeadingPaths">trimLeadingPaths</a></li><li data-type="method" id="PackageOperation-validate-nav"><a href="PackageOperation.html#validate">validate</a></li></ul></li><li id="PersistentObject-nav"><a href="PersistentObject.html">PersistentObject</a><ul class='methods'><li data-type="method" id="PersistentObject-find-nav"><a href="PersistentObject.html#.find">find</a></li><li data-type="method" id="PersistentObject-findMatching-nav"><a href="PersistentObject.html#.findMatching">findMatching</a></li><li data-type="method" id="PersistentObject-first-nav"><a href="PersistentObject.html#.first">first</a></li><li data-type="method" id="PersistentObject-firstMatching-nav"><a href="PersistentObject.html#.firstMatching">firstMatching</a></li><li data-type="method" id="PersistentObject-list-nav"><a href="PersistentObject.html#.list">list</a></li><li data-type="method" id="PersistentObject-mergeDefaultOpts-nav"><a href="PersistentObject.html#.mergeDefaultOpts">mergeDefaultOpts</a></li><li data-type="method" id="PersistentObject-sort-nav"><a href="PersistentObject.html#.sort">sort</a></li><li data-type="method" id="PersistentObject-delete-nav"><a href="PersistentObject.html#delete">delete</a></li><li data-type="method" id="PersistentObject-getValue-nav"><a href="PersistentObject.html#getValue">getValue</a></li><li data-type="method" id="PersistentObject-save-nav"><a href="PersistentObject.html#save">save</a></li><li data-type="method" id="PersistentObject-validate-nav"><a href="PersistentObject.html#validate">validate</a></li></ul></li><li id="Plugin-nav"><a href="Plugin.html">Plugin</a><ul class='methods'><li data-type="method" id="Plugin-description-nav"><a href="Plugin.html#.description">description</a></li></ul></li><li id="PluginManager-nav"><a href="PluginManager.html">PluginManager</a><ul class='methods'><li data-type="method" id="PluginManager-canRead-nav"><a href="PluginManager.html#.canRead">canRead</a></li><li data-type="method" id="PluginManager-canWrite-nav"><a href="PluginManager.html#.canWrite">canWrite</a></li><li data-type="method" id="PluginManager-findById-nav"><a href="PluginManager.html#.findById">findById</a></li><li data-type="method" id="PluginManager-getModuleCollection-nav"><a href="PluginManager.html#.getModuleCollection">getModuleCollection</a></li><li data-type="method" id="PluginManager-implementsProtocol-nav"><a href="PluginManager.html#.implementsProtocol">implementsProtocol</a></li><li data-type="method" id="PluginManager-pluginProvides-nav"><a href="PluginManager.html#.pluginProvides">pluginProvides</a></li><li data-type="method" id="PluginManager-talksTo-nav"><a href="PluginManager.html#.talksTo">talksTo</a></li><li data-type="method" id="PluginManager-types-nav"><a href="PluginManager.html#.types">types</a></li></ul></li><li id="RemoteRepository-nav"><a href="RemoteRepository.html">RemoteRepository</a><ul class='methods'><li data-type="method" id="RemoteRepository-inflateFrom-nav"><a href="RemoteRepository.html#.inflateFrom">inflateFrom</a></li><li data-type="method" id="RemoteRepository-validate-nav"><a href="RemoteRepository.html#validate">validate</a></li></ul></li><li id="RepositoryBase-nav"><a href="RepositoryBase.html">RepositoryBase</a><ul class='methods'><li data-type="method" id="RepositoryBase-hasRequiredConnectionInfo-nav"><a href="RepositoryBase.html#hasRequiredConnectionInfo">hasRequiredConnectionInfo</a></li><li data-type="method" id="RepositoryBase-provides-nav"><a href="RepositoryBase.html#provides">provides</a></li></ul></li><li id="RunningJobsController-nav"><a href="RunningJobsController.html">RunningJobsController</a></li><li id="S3Client-nav"><a href="S3Client.html">S3Client</a><ul class='methods'><li data-type="method" id="S3Client-description-nav"><a href="S3Client.html#.description">description</a></li><li data-type="method" id="S3Client-download-nav"><a href="S3Client.html#download">download</a></li><li data-type="method" id="S3Client-exists-nav"><a href="S3Client.html#exists">exists</a></li><li data-type="method" id="S3Client-list-nav"><a href="S3Client.html#list">list</a></li><li data-type="method" id="S3Client-upload-nav"><a href="S3Client.html#upload">upload</a></li></ul></li><li id="S3Transfer-nav"><a href="S3Transfer.html">S3Transfer</a><ul class='methods'><li data-type="method" id="S3Transfer-getRemoteUrl-nav"><a href="S3Transfer.html#getRemoteUrl">getRemoteUrl</a></li></ul></li><li id="SettingsController-nav"><a href="SettingsController.html">SettingsController</a><ul class='methods'><li data-type="method" id="SettingsController-_processResponses-nav"><a href="SettingsController.html#_processResponses">_processResponses</a></li><li data-type="method" id="SettingsController-export-nav"><a href="SettingsController.html#export">export</a></li><li data-type="method" id="SettingsController-import-nav"><a href="SettingsController.html#import">import</a></li><li data-type="method" id="SettingsController-postRenderCallback-nav"><a href="SettingsController.html#postRenderCallback">postRenderCallback</a></li><li data-type="method" id="SettingsController-reset-nav"><a href="SettingsController.html#reset">reset</a></li><li data-type="method" id="SettingsController-saveAndGoToExport-nav"><a href="SettingsController.html#saveAndGoToExport">saveAndGoToExport</a></li><li data-type="method" id="SettingsController-saveAndGoToQuestions-nav"><a href="SettingsController.html#saveAndGoToQuestions">saveAndGoToQuestions</a></li><li data-type="method" id="SettingsController-showExportJson-nav"><a href="SettingsController.html#showExportJson">showExportJson</a></li><li data-type="method" id="SettingsController-showImportResult-nav"><a href="SettingsController.html#showImportResult">showImportResult</a></li><li data-type="method" id="SettingsController-showQuestionsForm-nav"><a href="SettingsController.html#showQuestionsForm">showQuestionsForm</a></li></ul></li><li id="SettingsExportForm-nav"><a href="SettingsExportForm.html">SettingsExportForm</a><ul class='methods'><li data-type="method" id="SettingsExportForm-getChecked-nav"><a href="SettingsExportForm.html#getChecked">getChecked</a></li><li data-type="method" id="SettingsExportForm-parseItemsForExport-nav"><a href="SettingsExportForm.html#parseItemsForExport">parseItemsForExport</a></li></ul></li><li id="SettingsQuestionsForm-nav"><a href="SettingsQuestionsForm.html">SettingsQuestionsForm</a><ul class='methods'><li data-type="method" id="SettingsQuestionsForm-addRow-nav"><a href="SettingsQuestionsForm.html#addRow">addRow</a></li><li data-type="method" id="SettingsQuestionsForm-getFieldsList-nav"><a href="SettingsQuestionsForm.html#getFieldsList">getFieldsList</a></li><li data-type="method" id="SettingsQuestionsForm-getNamesList-nav"><a href="SettingsQuestionsForm.html#getNamesList">getNamesList</a></li><li data-type="method" id="SettingsQuestionsForm-getQuestionFromForm-nav"><a href="SettingsQuestionsForm.html#getQuestionFromForm">getQuestionFromForm</a></li><li data-type="method" id="SettingsQuestionsForm-getQuestionPrompt-nav"><a href="SettingsQuestionsForm.html#getQuestionPrompt">getQuestionPrompt</a></li><li data-type="method" id="SettingsQuestionsForm-getQuestionsAsArray-nav"><a href="SettingsQuestionsForm.html#getQuestionsAsArray">getQuestionsAsArray</a></li><li data-type="method" id="SettingsQuestionsForm-getSelectedField-nav"><a href="SettingsQuestionsForm.html#getSelectedField">getSelectedField</a></li><li data-type="method" id="SettingsQuestionsForm-getSelectedId-nav"><a href="SettingsQuestionsForm.html#getSelectedId">getSelectedId</a></li><li data-type="method" id="SettingsQuestionsForm-getSelectedType-nav"><a href="SettingsQuestionsForm.html#getSelectedType">getSelectedType</a></li><li data-type="method" id="SettingsQuestionsForm-parseQuestionsForExport-nav"><a href="SettingsQuestionsForm.html#parseQuestionsForExport">parseQuestionsForExport</a></li></ul></li><li id="SettingsResponseForm-nav"><a href="SettingsResponseForm.html">SettingsResponseForm</a><ul class='methods'><li data-type="method" id="SettingsResponseForm-getResponses-nav"><a href="SettingsResponseForm.html#getResponses">getResponses</a></li></ul></li><li id="SFTPClient-nav"><a href="SFTPClient.html">SFTPClient</a><ul class='methods'><li data-type="method" id="SFTPClient-description-nav"><a href="SFTPClient.html#.description">description</a></li><li data-type="method" id="SFTPClient-_loadPrivateKey-nav"><a href="SFTPClient.html#_loadPrivateKey">_loadPrivateKey</a></li><li data-type="method" id="SFTPClient-download-nav"><a href="SFTPClient.html#download">download</a></li><li data-type="method" id="SFTPClient-list-nav"><a href="SFTPClient.html#list">list</a></li><li data-type="method" id="SFTPClient-upload-nav"><a href="SFTPClient.html#upload">upload</a></li></ul></li><li id="StorageService-nav"><a href="StorageService.html">StorageService</a><ul class='methods'><li data-type="method" id="StorageService-inflateFrom-nav"><a href="StorageService.html#.inflateFrom">inflateFrom</a></li><li data-type="method" id="StorageService-hasPlaintextLogin-nav"><a href="StorageService.html#hasPlaintextLogin">hasPlaintextLogin</a></li><li data-type="method" id="StorageService-hasPlaintextPassword-nav"><a href="StorageService.html#hasPlaintextPassword">hasPlaintextPassword</a></li><li data-type="method" id="StorageService-url-nav"><a href="StorageService.html#url">url</a></li><li data-type="method" id="StorageService-validate-nav"><a href="StorageService.html#validate">validate</a></li></ul></li><li id="TagDefinition-nav"><a href="TagDefinition.html">TagDefinition</a><ul class='methods'><li data-type="method" id="TagDefinition-fromCommandLineArg-nav"><a href="TagDefinition.html#.fromCommandLineArg">fromCommandLineArg</a></li><li data-type="method" id="TagDefinition-getValue-nav"><a href="TagDefinition.html#getValue">getValue</a></li><li data-type="method" id="TagDefinition-looksLikeDescriptionTag-nav"><a href="TagDefinition.html#looksLikeDescriptionTag">looksLikeDescriptionTag</a></li><li data-type="method" id="TagDefinition-systemMustSet-nav"><a href="TagDefinition.html#systemMustSet">systemMustSet</a></li><li data-type="method" id="TagDefinition-toFormattedString-nav"><a href="TagDefinition.html#toFormattedString">toFormattedString</a></li><li data-type="method" id="TagDefinition-validate-nav"><a href="TagDefinition.html#validate">validate</a></li><li data-type="method" id="TagDefinition-validateForJob-nav"><a href="TagDefinition.html#validateForJob">validateForJob</a></li></ul></li><li id="TagFileForm-nav"><a href="TagFileForm.html">TagFileForm</a></li><li id="TagFileParser-nav"><a href="TagFileParser.html">TagFileParser</a></li><li id="TarReader-nav"><a href="TarReader.html">TarReader</a><ul class='methods'><li data-type="method" id="TarReader-description-nav"><a href="TarReader.html#.description">description</a></li><li data-type="method" id="TarReader-list-nav"><a href="TarReader.html#list">list</a></li><li data-type="method" id="TarReader-read-nav"><a href="TarReader.html#read">read</a></li></ul></li><li id="TarWriter-nav"><a href="TarWriter.html">TarWriter</a><ul class='methods'><li data-type="method" id="TarWriter-description-nav"><a href="TarWriter.html#.description">description</a></li><li data-type="method" id="TarWriter-add-nav"><a href="TarWriter.html#add">add</a></li></ul></li><li id="TaskDescription-nav"><a href="TaskDescription.html">TaskDescription</a></li><li id="TestUtil-nav"><a href="TestUtil.html">TestUtil</a><ul class='methods'><li data-type="method" id="TestUtil-deleteJsonFile-nav"><a href="TestUtil.html#.deleteJsonFile">deleteJsonFile</a></li><li data-type="method" id="TestUtil-loadFixtures-nav"><a href="TestUtil.html#.loadFixtures">loadFixtures</a></li><li data-type="method" id="TestUtil-loadFromProfilesDir-nav"><a href="TestUtil.html#.loadFromProfilesDir">loadFromProfilesDir</a></li><li data-type="method" id="TestUtil-loadProfile-nav"><a href="TestUtil.html#.loadProfile">loadProfile</a></li></ul></li><li id="Uploader-nav"><a href="Uploader.html">Uploader</a><ul class='methods'><li data-type="method" id="Uploader-doUpload-nav"><a href="Uploader.html#doUpload">doUpload</a></li><li data-type="method" id="Uploader-getProvider-nav"><a href="Uploader.html#getProvider">getProvider</a></li><li data-type="method" id="Uploader-run-nav"><a href="Uploader.html#run">run</a></li><li data-type="method" id="Uploader-validateParams-nav"><a href="Uploader.html#validateParams">validateParams</a></li></ul></li><li id="UploadOperation-nav"><a href="UploadOperation.html">UploadOperation</a><ul class='methods'><li data-type="method" id="UploadOperation-inflateFrom-nav"><a href="UploadOperation.html#.inflateFrom">inflateFrom</a></li><li data-type="method" id="UploadOperation-validate-nav"><a href="UploadOperation.html#validate">validate</a></li></ul></li><li id="UploadTestHelper-nav"><a href="UploadTestHelper.html">UploadTestHelper</a><ul class='methods'><li data-type="method" id="UploadTestHelper-envHasS3Credentials-nav"><a href="UploadTestHelper.html#envHasS3Credentials">envHasS3Credentials</a></li><li data-type="method" id="UploadTestHelper-getStorageService-nav"><a href="UploadTestHelper.html#getStorageService">getStorageService</a></li></ul></li><li id="Util-nav"><a href="Util.html">Util</a><ul class='methods'><li data-type="method" id="Util-arrayContentsMatch-nav"><a href="Util.html#.arrayContentsMatch">arrayContentsMatch</a></li><li data-type="method" id="Util-bagNameFromPath-nav"><a href="Util.html#.bagNameFromPath">bagNameFromPath</a></li><li data-type="method" id="Util-boolEqual-nav"><a href="Util.html#.boolEqual">boolEqual</a></li><li data-type="method" id="Util-boolValue-nav"><a href="Util.html#.boolValue">boolValue</a></li><li data-type="method" id="Util-camelToTitle-nav"><a href="Util.html#.camelToTitle">camelToTitle</a></li><li data-type="method" id="Util-canRead-nav"><a href="Util.html#.canRead">canRead</a></li><li data-type="method" id="Util-canWrite-nav"><a href="Util.html#.canWrite">canWrite</a></li><li data-type="method" id="Util-cast-nav"><a href="Util.html#.cast">cast</a></li><li data-type="method" id="Util-deleteFromArray-nav"><a href="Util.html#.deleteFromArray">deleteFromArray</a></li><li data-type="method" id="Util-deleteRecursive-nav"><a href="Util.html#.deleteRecursive">deleteRecursive</a></li><li data-type="method" id="Util-escapeBackslashes-nav"><a href="Util.html#.escapeBackslashes">escapeBackslashes</a></li><li data-type="method" id="Util-filterEmptyStrings-nav"><a href="Util.html#.filterEmptyStrings">filterEmptyStrings</a></li><li data-type="method" id="Util-findCommonPathPrefix-nav"><a href="Util.html#.findCommonPathPrefix">findCommonPathPrefix</a></li><li data-type="method" id="Util-forkJobProcess-nav"><a href="Util.html#.forkJobProcess">forkJobProcess</a></li><li data-type="method" id="Util-formatError-nav"><a href="Util.html#.formatError">formatError</a></li><li data-type="method" id="Util-getEnvSetting-nav"><a href="Util.html#.getEnvSetting">getEnvSetting</a></li><li data-type="method" id="Util-getSortFunction-nav"><a href="Util.html#.getSortFunction">getSortFunction</a></li><li data-type="method" id="Util-isDirectory-nav"><a href="Util.html#.isDirectory">isDirectory</a></li><li data-type="method" id="Util-isEmpty-nav"><a href="Util.html#.isEmpty">isEmpty</a></li><li data-type="method" id="Util-isEmptyStringArray-nav"><a href="Util.html#.isEmptyStringArray">isEmptyStringArray</a></li><li data-type="method" id="Util-isNonEmptyDirectory-nav"><a href="Util.html#.isNonEmptyDirectory">isNonEmptyDirectory</a></li><li data-type="method" id="Util-lcFirst-nav"><a href="Util.html#.lcFirst">lcFirst</a></li><li data-type="method" id="Util-listContains-nav"><a href="Util.html#.listContains">listContains</a></li><li data-type="method" id="Util-looksLikeEnvSetting-nav"><a href="Util.html#.looksLikeEnvSetting">looksLikeEnvSetting</a></li><li data-type="method" id="Util-looksLikeHypertextURL-nav"><a href="Util.html#.looksLikeHypertextURL">looksLikeHypertextURL</a></li><li data-type="method" id="Util-looksLikeUUID-nav"><a href="Util.html#.looksLikeUUID">looksLikeUUID</a></li><li data-type="method" id="Util-normalizeWindowsPath-nav"><a href="Util.html#.normalizeWindowsPath">normalizeWindowsPath</a></li><li data-type="method" id="Util-removeWindowsDrivePrefix-nav"><a href="Util.html#.removeWindowsDrivePrefix">removeWindowsDrivePrefix</a></li><li data-type="method" id="Util-tmpFilePath-nav"><a href="Util.html#.tmpFilePath">tmpFilePath</a></li><li data-type="method" id="Util-toHumanSize-nav"><a href="Util.html#.toHumanSize">toHumanSize</a></li><li data-type="method" id="Util-trimToLength-nav"><a href="Util.html#.trimToLength">trimToLength</a></li><li data-type="method" id="Util-truncateString-nav"><a href="Util.html#.truncateString">truncateString</a></li><li data-type="method" id="Util-unicodeByteLength-nav"><a href="Util.html#.unicodeByteLength">unicodeByteLength</a></li><li data-type="method" id="Util-uuid4-nav"><a href="Util.html#.uuid4">uuid4</a></li><li data-type="method" id="Util-walkSync-nav"><a href="Util.html#.walkSync">walkSync</a></li></ul></li><li id="ValidationOperation-nav"><a href="ValidationOperation.html">ValidationOperation</a><ul class='methods'><li data-type="method" id="ValidationOperation-inflateFrom-nav"><a href="ValidationOperation.html#.inflateFrom">inflateFrom</a></li><li data-type="method" id="ValidationOperation-validate-nav"><a href="ValidationOperation.html#validate">validate</a></li></ul></li><li id="Validator-nav"><a href="Validator.html">Validator</a><ul class='methods'><li data-type="method" id="Validator-_addBagItFile-nav"><a href="Validator.html#_addBagItFile">_addBagItFile</a></li><li data-type="method" id="Validator-_cleanEntryRelPath-nav"><a href="Validator.html#_cleanEntryRelPath">_cleanEntryRelPath</a></li><li data-type="method" id="Validator-_getCryptoHashes-nav"><a href="Validator.html#_getCryptoHashes">_getCryptoHashes</a></li><li data-type="method" id="Validator-_readBag-nav"><a href="Validator.html#_readBag">_readBag</a></li><li data-type="method" id="Validator-_readEntry-nav"><a href="Validator.html#_readEntry">_readEntry</a></li><li data-type="method" id="Validator-_readFile-nav"><a href="Validator.html#_readFile">_readFile</a></li><li data-type="method" id="Validator-_scanBag-nav"><a href="Validator.html#_scanBag">_scanBag</a></li><li data-type="method" id="Validator-_validateAllowedManifests-nav"><a href="Validator.html#_validateAllowedManifests">_validateAllowedManifests</a></li><li data-type="method" id="Validator-_validateAllowedTagFiles-nav"><a href="Validator.html#_validateAllowedTagFiles">_validateAllowedTagFiles</a></li><li data-type="method" id="Validator-_validateFormatAndContents-nav"><a href="Validator.html#_validateFormatAndContents">_validateFormatAndContents</a></li><li data-type="method" id="Validator-_validateManifestEntries-nav"><a href="Validator.html#_validateManifestEntries">_validateManifestEntries</a></li><li data-type="method" id="Validator-_validateNoExtraneousPayloadFiles-nav"><a href="Validator.html#_validateNoExtraneousPayloadFiles">_validateNoExtraneousPayloadFiles</a></li><li data-type="method" id="Validator-_validatePayloadOxum-nav"><a href="Validator.html#_validatePayloadOxum">_validatePayloadOxum</a></li><li data-type="method" id="Validator-_validateProfile-nav"><a href="Validator.html#_validateProfile">_validateProfile</a></li><li data-type="method" id="Validator-_validateRequiredManifests-nav"><a href="Validator.html#_validateRequiredManifests">_validateRequiredManifests</a></li><li data-type="method" id="Validator-_validateSerialization-nav"><a href="Validator.html#_validateSerialization">_validateSerialization</a></li><li data-type="method" id="Validator-_validateSerializationFormat-nav"><a href="Validator.html#_validateSerializationFormat">_validateSerializationFormat</a></li><li data-type="method" id="Validator-_validateTags-nav"><a href="Validator.html#_validateTags">_validateTags</a></li><li data-type="method" id="Validator-_validateUntarDirectory-nav"><a href="Validator.html#_validateUntarDirectory">_validateUntarDirectory</a></li><li data-type="method" id="Validator-fileExtension-nav"><a href="Validator.html#fileExtension">fileExtension</a></li><li data-type="method" id="Validator-getNewReader-nav"><a href="Validator.html#getNewReader">getNewReader</a></li><li data-type="method" id="Validator-payloadFiles-nav"><a href="Validator.html#payloadFiles">payloadFiles</a></li><li data-type="method" id="Validator-payloadManifests-nav"><a href="Validator.html#payloadManifests">payloadManifests</a></li><li data-type="method" id="Validator-readingFromDir-nav"><a href="Validator.html#readingFromDir">readingFromDir</a></li><li data-type="method" id="Validator-readingFromTar-nav"><a href="Validator.html#readingFromTar">readingFromTar</a></li><li data-type="method" id="Validator-tagFiles-nav"><a href="Validator.html#tagFiles">tagFiles</a></li><li data-type="method" id="Validator-tagManifests-nav"><a href="Validator.html#tagManifests">tagManifests</a></li><li data-type="method" id="Validator-validate-nav"><a href="Validator.html#validate">validate</a></li></ul></li><li id="Workflow-nav"><a href="Workflow.html">Workflow</a><ul class='methods'><li data-type="method" id="Workflow-fromJob-nav"><a href="Workflow.html#.fromJob">fromJob</a></li><li data-type="method" id="Workflow-inflateFrom-nav"><a href="Workflow.html#.inflateFrom">inflateFrom</a></li><li data-type="method" id="Workflow-bagItProfile-nav"><a href="Workflow.html#bagItProfile">bagItProfile</a></li><li data-type="method" id="Workflow-bagItProfileName-nav"><a href="Workflow.html#bagItProfileName">bagItProfileName</a></li><li data-type="method" id="Workflow-exportJson-nav"><a href="Workflow.html#exportJson">exportJson</a></li><li data-type="method" id="Workflow-findDuplicate-nav"><a href="Workflow.html#findDuplicate">findDuplicate</a></li><li data-type="method" id="Workflow-packagePlugin-nav"><a href="Workflow.html#packagePlugin">packagePlugin</a></li><li data-type="method" id="Workflow-packagePluginName-nav"><a href="Workflow.html#packagePluginName">packagePluginName</a></li><li data-type="method" id="Workflow-storageServiceNames-nav"><a href="Workflow.html#storageServiceNames">storageServiceNames</a></li><li data-type="method" id="Workflow-storageServices-nav"><a href="Workflow.html#storageServices">storageServices</a></li><li data-type="method" id="Workflow-validate-nav"><a href="Workflow.html#validate">validate</a></li></ul></li><li id="WorkflowBatchController-nav"><a href="WorkflowBatchController.html">WorkflowBatchController</a><ul class='methods'><li data-type="method" id="WorkflowBatchController-postRenderCallback-nav"><a href="WorkflowBatchController.html#postRenderCallback">postRenderCallback</a></li><li data-type="method" id="WorkflowBatchController-runBatch-nav"><a href="WorkflowBatchController.html#runBatch">runBatch</a></li><li data-type="method" id="WorkflowBatchController-runJob-nav"><a href="WorkflowBatchController.html#runJob">runJob</a></li></ul></li><li id="WorkflowBatchForm-nav"><a href="WorkflowBatchForm.html">WorkflowBatchForm</a></li><li id="WorkflowForm-nav"><a href="WorkflowForm.html">WorkflowForm</a></li></ul><h3 id="global-nav">Global</h3><ul><li><a href="global.html#Config">Config</a></li><li><a href="global.html#Constants">Constants</a></li><li><a href="global.html#FATAL_UPLOAD_ERRORS">FATAL_UPLOAD_ERRORS</a></li><li><a href="global.html#loadBuiltInProfiles">loadBuiltInProfiles</a></li><li><a href="global.html#OPTS">OPTS</a></li><li><a href="global.html#pluginTypes">pluginTypes</a></li><li><a href="global.html#run">run</a></li><li><a href="global.html#runAll">runAll</a></li><li><a href="global.html#tagsByFileAndName">tagsByFileAndName</a></li><li><a href="global.html#tagsSetBySystem">tagsSetBySystem</a></li><li><a href="global.html#titleTags">titleTags</a></li><li><a href="global.html#UIConstants">UIConstants</a></li></ul>
  </nav>

  <div id="main">
    
      <h1 class="page-title">
        core/util.js
      </h1>
    

    
      

<section>
  <article>
    <pre class="prettyprint source linenums"><code>const { Context } = require('./context');
const { fork } = require('child_process');
const fs = require('fs');
const path = require('path');
const os = require('os');


/**
 * Util contains a number of static utility functions used throughout
 * the DART application. It has no constructor. Simply call Util.&lt;method>(&lt;args>)
 * to use any of its methods.
 *
 */

class Util {

    /**
      * Returns a version 4 uuid string.
      *
      * Thanks https://gist.github.com/kaizhu256/4482069
      * @returns {string }
      */
    static uuid4() {
        var uuid = '', ii;
        for (ii = 0; ii &lt; 32; ii += 1) {
            switch (ii) {
            case 8:
            case 20:
                uuid += '-';
                uuid += (Math.random() * 16 | 0).toString(16);
                break;
            case 12:
                uuid += '-';
                uuid += '4';
                break;
            case 16:
                uuid += '-';
                uuid += (Math.random() * 4 | 8).toString(16);
                break;
            default:
                uuid += (Math.random() * 16 | 0).toString(16);
            }
        }
        return uuid;
    }

    /**
      * Returns the byte length of an utf8 string
      *
      * @param {string} str - The string to measure.
      * @returns {number}
      */
    static unicodeByteLength(str) {
        var s = str.length;
        for (var i=str.length-1; i>=0; i--) {
            var code = str.charCodeAt(i);
            if (code > 0x7f &amp;&amp; code &lt;= 0x7ff) s++;
            else if (code > 0x7ff &amp;&amp; code &lt;= 0xffff) s+=2;
            if (code >= 0xDC00 &amp;&amp; code &lt;= 0xDFFF) i--; //trail surrogate
        }
        return s;
    }

    /**
      * Returns true if str matches the regex for hex-formatted uuid.
      *
      * @param {string} str - The string to test.
      * @returns {boolean}
      */
    static looksLikeUUID(str) {
        var regex = /^([a-f\d]{8}(-[a-f\d]{4}){3}-[a-f\d]{12}?)$/i;
        return Util.stringMatchesRegex(str, regex);
    }

    /**
      * Returns true if str matches the regex for a URL beginning
      * with http or https and looks like a valid URL.
      *
      * @param {string} str - The string to test.
      * @returns {boolean}
      */
    static looksLikeHypertextURL(str) {
        let regex = /(^http:\/\/localhost)|(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&amp;//=]*))/;
        return Util.stringMatchesRegex(str, regex);
    }

    static stringMatchesRegex(str, pattern) {
        var match = null
        try {
            match = str.match(pattern);
        } catch (ex) {
            // null string or non-string
        }
        return match != null;
    }

    /**
      * Returns true if str is null or empty.
      *
      * @param {string} str - The string to check.
      * @returns {boolean}
      */
    static isEmpty(str) {
        return (str == null || ((typeof str) == "string" &amp;&amp; str.trim() == ""));
    }

    /**
      * Converts a camel case variable name to title-cased text.
      * For example, myVarName is converted to My Var Name.
      * This is useful for converting var names to labels in the UI.
      *
      * @param {string} str - The string to convert
      * @returns {string}
      */
    static camelToTitle(str) {
        var spaced = str.replace( /([A-Z])/g, " $1" );
        return spaced.charAt(0).toUpperCase() + spaced.slice(1);
    }

    /**
      * Returns true if array of strings is empty, or if all elements
      * of the array are null or empty.
      *
      * @param {string[]} arr - The list of strings to check.
      * @returns {boolean}
      */
    static isEmptyStringArray(arr) {
        if(arr == null || arr.length == 0) {
            return true;
        }
        for(let str of arr) {
            if (!Util.isEmpty(str)) {
                return false;
            }
        }
        return true;
    }

    /**
      * Returns an array of strings, with all null and empty strings
      * removed.
      *
      * @param {string[]} arr - The list of strings to filter.
      * @returns {string[]} - The list of strings, minus null and empty entries.
      */
    static filterEmptyStrings(arr) {
        if(arr == null || !Array.isArray(arr)) {
            return [];
        }
        return arr.map(item => item? item.trim() : "").filter(item => item != "");
    }

    /**
      * Returns true if list contains item. The list should contain simple
      * scalar values that can be compared with a simple equality test.
      * This is similar to the builtin array.includes(), but includes some
      * special handling for boolean values.
      *
      * @param {string[]|number[]|boolean[]} list - The list items to search.
      * @param {string|number|boolean} item - The item to look for.
      * @returns {boolean} True if the item is in the list.
      */
    static listContains(list, item) {
        for (var i of list) {
            if (i == item || Util.boolEqual(i, item)) {
                return true;
            }
        }
        return false;
    }

    /**
      * Returns a function suitable for sorting a list of objects
      * in ascending or desdending order.
      *
      * @param {string} property - The name of the object property to sort on.
      * @param {string} direction - 'desc' or 'asc' for descending or ascending.
      * @returns {function} A function with params (a, b) where a and b are items to be compared.
      */
    static getSortFunction(property, direction) {
        if (direction == 'desc') {
            return function(a, b) {
                // descending sort
                if (a[property] &lt; b[property]) { return 1; }
                if (a[property] > b[property]) { return -1; }
                return 0;
            };
        } else {
            return function(a, b) {
                // ascending sort
                if (a[property] &lt; b[property]) { return -1; }
                if (a[property] > b[property]) { return 1; }
                return 0;
            }
        }
    }

    /**
      * Returns true if a and b are both non-null and both indicate
      * the same truth value. E.g. true = "true" = "yes" and
      * false = "false" = "no".
      *
      * @param {boolean|string} a - First value to compare.
      * @param {boolean|string} b - Second value to compare.
      * @returns {boolean} True if the two values indicate the same boolean value.
      */
    static boolEqual(a, b) {
        var aValue = Util.boolValue(a);
        var bValue = Util.boolValue(b);
        return (aValue != null &amp;&amp; aValue == bValue);
    }

    /**
      * Returns the boolean value of a string. "true" and "yes"
      * are true. "false" and "no" are false. String is case-insensitive.
      *
      * @param {boolean|string} val - The value to examine.
      *
      * @returns {boolean} The boolean value of the string, or undefined
      * if it can't be determined.
      */
    static boolValue(val) {
        if (typeof val === 'boolean') {
            return val;
        }
        var lcString = String(val).toLowerCase();
        var trueValues = ['true', 'yes', '1'];
        var falseValues = ['false', 'no', '0'];
        var retValue;
        if (trueValues.includes(lcString)) {
            retValue = true;
        } else if (falseValues.includes(lcString)) {
            retValue = false;
        }
        return retValue;
    }

    /**
     * toHumanSize returns a human-readable size for the given
     * number of bytes. The return value is trucated at two
     * decimal places. E.g. 2621440 converts to "2.50 MB"
     *
     * @param {number} bytes - The number of bytes to convert to human size.
     * @returns {string} - A human-readable string, like "2.5 MB"
     */
    static toHumanSize(bytes) {
        if (isNaN(bytes)) {
            return 'Not a Number';
        }
        var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
        var hs = bytes;
        for(var i=0; i &lt; sizes.length; i++) {
            hs = bytes / (1024 ** i);
            if (hs &lt; 1024) {
                break;
            }
        }
        return `${hs.toFixed(2)} ${sizes[i]}`;
    }

    /**
      * Truncates a string at len characters, and appends '..." to the end.
      *
      * @param {string} str - The string to truncate.
      * @param {number} len - Truncate the string at len characters.
      * @returns {string} - The truncated string, with three trailing dots.
      */
    static truncateString(str, len) {
        if (Util.isEmpty(str) || str.length &lt;= len) {
            return str;
        }
        return str.slice(0, len - 1) + '...';
    }

    /**
     * Returns a copy of string str with the first letter set to
     * lowercase. Returns null if param str is null.
     *
     * @param {string}
     *
     * @returns {string}
     */
    static lcFirst(str) {
        if (!str) {
            return str;
        }
        return str.charAt(0).toLowerCase() + str.substr(1);
    }

    /**
     * Replaces backslashes in Windows paths with double backslashes.
     *
     * @param {string} winPath - A Windows path.
     *
     * @returns {string}
     */
    static escapeBackslashes(winPath) {
        return winPath.replace(/\\/g, '\\\\')
    }

    /**
	  * Converts an absolute Windows path to a path with forward slashes suitable
	  * for a BagIt file or tar file. Also strips off drive letters and share names.
      *
      * @param {string} winPath - An absolute Windows path.
      * @returns {string} - Path with drive and share removed, and slashes leaning
      * the right way.
      *
      */
	static normalizeWindowsPath(winPath) {
        winPath = Util.removeWindowsDrivePrefix(winPath);
		// Backslash to forward slash
		return winPath.replace(/\\/g, '/');
	}

    /**
	  * Strips off drive letters and share names from Windows paths.
      * E.g. "C:\some\path" becomes "\some\path" and "\\share\some\path"
      * becomes "\some\path"
      *
      * @param {string} winPath - An absolute Windows path.
      * @returns {string} - Path with drive and share removed.
      *
      */
    static removeWindowsDrivePrefix(winPath) {
		// Remove C:
		winPath = winPath.replace(/^[A-Z]:/i, '');
		// Remove \\share
		return winPath.replace(/^\\\\[^\\]+/, '');
    }

    /**
     * walkSync recursively lists all files in a directory and its
     * subdirectories and returns them in filelist. If you want to
     * filter the list, include a callback filterFunction, which takes
     * the filepath as its sole param (a string) and returns true or
     * false to indicate whether to include the file in the list.
     *
     * The returned list is a list of hashes, and each hash has keys
     * absPath: the absolute path to the file
     * stats: a Node fs.Stats object with info about the file
     * The returned list will not include links, only files.
     *
     * @param {string} dir - Path to directory.
     * @param {filterFunction} filterFunction - A function to filter out items that should not go into filelist.
     * @returns {string[]} A list of file paths under dir that pass the filter.
    */
    static walkSync(dir, filterFunction) {
        var files = fs.readdirSync(dir);
        var filelist = [];
        filterFunction = filterFunction || function(file) { return true };
        files.forEach(function(file) {
            var absPath = path.join(dir, file);
            if (!fs.existsSync(absPath)) {
                return;  // Symlinks give ENOENT error
            }
            var stats = fs.statSync(absPath);
            if (stats.isDirectory()) {
                filelist = Util.walkSync(absPath, filelist, filterFunction);
            }
            else if (stats.isFile() &amp;&amp; filterFunction(absPath)) {
                filelist.push({
                    absPath: absPath,
                    stats: stats
                });
            }
        });
        return filelist;
    };

    /**
     * Recursively and synchronously deletes a directory and all its contents.
     * This will throw an exception if you try to delete any path that's
     * too close to the root of the file system (fewer than 8 characters
     * or fewer than 3 slashes/backslashes).
     *
     * @param {string} dir - Path to the directory you want to delete.
    */
    static deleteRecursive(filepath) {
        if (filepath.length &lt; 8 || filepath.split(path.sep).length &lt; 3) {
            throw `${filepath} does not look safe to delete`;
        }
        if (fs.existsSync(filepath)) {
            fs.readdirSync(filepath).forEach(function(file, index){
                var curPath = path.join(filepath, file);
                if (fs.lstatSync(curPath).isDirectory()) {
                    Util.deleteRecursive(curPath);
                } else {
                    fs.unlinkSync(curPath);
                }
            });
            // Delete the directory that the code above just emptied out,
            // and ignore errors on Windows that come from synchronous
            // delete calls not actually deleting files when they say they do.
            // This problem is described in this bug report:
            //
            // https://github.com/nodejs/node-v0.x-archive/issues/3051
            //
            // On Windows, Node's unlinkSync function merely marks a file
            // to be deleted and then returns without deleting it, if the
            // file has an open read handle. This causes the rmdirSync call
            // below to throw an exception saying the directory isn't empty.
            //
            // Well screw that. When a synchronous function says it's done,
            // it should be done. The worst side-effect of ignoring Window's
            // stupidity in the catch block is that the user will end up
            // with some unneeded empty directories.
			try {
				fs.rmdirSync(filepath);
			} catch (err) {
				if (os.platform == 'win32') {
				    // Windows == Loserville
				} else {
					console.log(err);
				}
			}
        }
    };

    /**
     * This deletes up to one item from an array, modifying the
     * array in place. For example, Util.deleteFromArray(list, "butter")
     * will delete the first instance of the word "butter" from the
     * array, or will delete nothing if the array does not contain
     * that word.
     *
     * @param {Array} array - A list of items.
     *
     * @param {string|number|boolean|Date} item - The item you want to
     * delete.
     */
    static deleteFromArray(array, item) {
        let index = array.indexOf(item);
        if (index > -1) {
            array.splice(index, 1);
        }
    }

    /**
     * This function returns the basename of the given file path with
     * with the following extensions stripped off:
     *
     * * .7z, .s7z
     * * .bz, .bz2
     * * .gz
     * * .par, par2
     * * .rar
     * * .tar, .tar.gz, .tgz, .tar.Z
     * * .zip, .zipx
     *
     * The point is to return the expected name of the bag, based
     * on the file path. If the file's basename has an unrecognized
     * extension or no extension, this will return the basename unaltered.
     *
     * @param {string} filepath - Path to the bag.
    */
    static bagNameFromPath(filepath) {
        var bagName = path.basename(filepath);
        return bagName.replace(/\.tar$|\.tar\.gz$|\.t?gz$|\.tar\.Z$|\.tar\.bz$|\.tar\.bz2$|\.bz$|\.bz2$|\.zip$|\.zipx$|\.rar$|\.7z$|\.s7z$|\.par$|\.par2$/, '');
    }

    /**
     * This casts the string value str to type toType and returns
     * the cast value. This is used primarily for converting values
     * from HTML forms to correctly-typed JavaScript values.
     *
     * @example
     * Util.cast('false', 'boolean') // returns false
     * Util.cast('yes', 'boolean')   // returns true
     * Util.cast('1', 'boolean')     // returns true
     * Util.cast('3', 'number')      // returns 3
     * Util.cast('3.14', 'number')   // returns 3.14
     *
     * @param {string} str - The string value to be cast.
     *
     * @param {string} toType - The type to which the string value
     * should be cast. Currently supports only 'number' and 'boolean'.
    */
    static cast(str, toType) {
        let castValue = str;
        if (toType === 'boolean') {
            castValue = Util.boolValue(str);
        } else if (toType === 'number') {
            if (str.indexOf('.') > -1) {
                castValue = parseFloat(str);
            } else {
                castValue = parseInt(str);
            }
        }
        return castValue;
    }

    /**
     * This returns true if settingValue begins with "env:".
     *
     * @param {string} settingValue - The value of the setting.
     *
     * @returns {boolean}
     */
    static looksLikeEnvSetting(settingValue) {
        return settingValue.startsWith('env:');
    }

    /**
     * This returns the value of an environment variable, if
     * the variable is available. Certain variables, such as
     * the login credentials used in the {@link StorageService}
     * class may be stored more safely as environment variables
     * outside of the DART database. Those variables follow the
     * pattern env:VAR_NAME.
     *
     * If you pass env:VAR_NAME to this function, it will return
     * the value of the environment variable VAR_NAME.
     *
     * @param {string} str - A string in the format env:VAR_NAME.
     *
     * @returns {string}
     */
    static getEnvSetting(str) {
        let [prefix, varname] = str.split(':');
        return process.env[varname];
    }

    /**
     * Returns a path to a temp file, without actually creating
     * the file.
     *
     * @returns {string}
     *
     */
    static tmpFilePath() {
        let dartTmpDir = path.join(os.tmpdir(), 'DART');
        if (!fs.existsSync(dartTmpDir)) {
            fs.mkdirSync(dartTmpDir);
        }
        let prefix = Util.uuid4().split('-')[0];
        let suffix = Date.now().toString();
        let filename = `${prefix}_${suffix}`;
        return path.join(dartTmpDir, filename);
    }

    /**
     * Returns true if arrays a and b contain the same elements, regardless
     * of order. When specifying orderMatters = false, be careful using this
     * with large arrays, since it copies and sorts each array. This is
     * intended for arrays of scalar values like strings, numbers, and dates,
     * whose values can be compared for simple equality.
     *
     * @param {Array} a - The first array.
     * @param {Array} b - The second array.
     * @param {boolean} orderMatters - Set this to true if the arrays must
     * contain the same elements in the same order. Set to false to check if
     * they contain the same elements in any order.
     *
     * @returns {boolean}
     *
     */
    static arrayContentsMatch(a, b, orderMatters) {
        if (!Array.isArray(a) || !Array.isArray(b)) {
            return false;
        }
        if (a === b) {
            return true;
        }
        if (a.length != b.length) {
            return false;
        }
        let aCopy = orderMatters ? a : [...a].sort();
        let bCopy = orderMatters ? b : [...b].sort();
        for (var i = 0; i &lt; aCopy.length; ++i) {
            if (aCopy[i] !== bCopy[i]) {
                return false;
            }
        }
        return true;
    }

    /**
     * Returns true if the file at filepath is readable by
     * the current user/application.
     *
     * @param {string} filepath - The path the the file.
     * @returns {boolean}
     */
    static canRead(filepath) {
        let canRead = true;
        try {
            fs.accessSync(filepath, fs.constants.R_OK);
        } catch (err) {
            canRead = false;
        }
        return canRead;
    }

    /**
     * Returns true if the file at filepath is writable by
     * the current user/application.
     *
     * @params {string} filepath - The path the the file.
     * @returns {boolean}
     */
    static canWrite(filepath) {
        let canWrite = true;
        try {
            fs.accessSync(filepath, fs.constants.W_OK);
        } catch (err) {
            canWrite = false;
        }
        return canWrite;
    }

    /**
     * Returns true if dirpath is a directory.
     *
     * @path {string} dirpath - The path to check
     *
     * @returns {boolean}
     */
    static isDirectory(dirpath) {
        return fs.existsSync(dirpath) &amp;&amp; fs.lstatSync(dirpath).isDirectory()
    }

    /**
     * Returns true if dirpath is a non-empty directory.
     *
     * @path {string} dirpath - The path to check
     *
     * @returns {boolean}
     */
    static isNonEmptyDirectory(dirpath) {
        let files = []
        if (fs.existsSync(dirpath) &amp;&amp; fs.lstatSync(dirpath).isDirectory()) {
            files = fs.readdirSync(dirpath)
        }
        return files.length > 0
    }

    /**
     * Given a list of file paths, this returns the prefix common
     * to all paths. This function probably has worse than 0n^2
     * efficiency, so it's OK if paths.length &lt; 10, but it probably
     * gets pretty bad from there.
     *
     * If paths have nothing in common, this returns an empty string.
     *
     * @example
     * let posixPaths = [
     *     "/path/to/some/file.txt",
     *     "/path/to/some/other/document.pdf",
     *     "/path/to/some/different/photo.jpg"
     * ]
     *
     * Util.findCommonPathPrefix(posixPaths); // returns "/path/to/some/"
     *
     * let windowPaths = [
     *     "c:\\path\\to\\some\\file.txt",
     *     "c:\\path\\to\\some\\other\\file.txt",
     *     "c:\\path\\to\\some\\different\\file.txt",
     * ]
     *
     * Util.findCommonPathPrefix(windowsPaths); // returns "c:\\path\\to\\some\\"
     *
     * @param {Array&lt;string>} paths - List of paths to compare.
     *
     * @param {string} pathSep - Optional param to specify the path
     * separator. This defaults to the operating system's path.sep, so you
     * don't need to specify this.
     *
     * @returns {string}
     */
    static findCommonPathPrefix(paths, pathSep = path.sep) {
        let i = 0;
        let lastPrefix = '';
        let prefix = '';
        let match = true;
        while(match) {
            i = paths[0].indexOf(pathSep, i + 1);
            if (i &lt; 0) {
                break;
            }
            prefix = paths[0].slice(0, i + 1);
            for(let p of paths) {
                if (!p.startsWith(prefix)){
                    match = false;
                    prefix = lastPrefix; // this is the last one that did match
                    break;
                }
            }
            lastPrefix = prefix;
        }
        return prefix;
    }

    /**
     * Returns str trimmed to the specified length, with trimmed characters
     * replaced by '...'. If str is already less than or equal to len
     * characters, this returns the string unchanged. If len is too short,
     * the return value will likely be '...'.
     *
     * @param {string} str - The string to trim.
     * @param {number} len - The length to trim to.
     * @param {string} trimFrom - Where to trim the excess characters from.
     * Valid values are 'end' and 'middle'. Any other value is interpreted
     * as 'middle'.
     * @returns {string}
     */
    static trimToLength(str, len, trimFrom) {
        let trimmedStr = '';
        if (str.length &lt;= len) {
            return str
        }
        if (trimFrom == 'end') {
            trimmedStr = str.substring(0, len-1) + '...';
        } else {
            let endOfStart = Math.max(((len / 2) - 4), 4);
            let start = str.substring(0, endOfStart);
            let endIndex = Math.max(0, str.length - (len / 2));
            let end = str.substring(endIndex, str.length)
            trimmedStr = start + '...' + end;
        }
        return trimmedStr;
    }

    /**
     * Launches a Job in a separate process. Returns an object with
     * keys childProcess and dartProcess.
     *
     * @param {Job} job - The job to run in the child process.
     *
     * @returns {Object}
     */
    static forkJobProcess(job) {
        const { DartProcess } = require('./dart_process');
        let tmpFile = Util.tmpFilePath();
        fs.writeFileSync(tmpFile, JSON.stringify(job));

        // Need to change npm command outside of dev env.
        let modulePath = path.join(__dirname, '..', 'main.js');
        let childProcess = fork(
                modulePath,
                ['--job', tmpFile]
        );

        let dartProcess = new DartProcess(
            job.title,
            job.id,
            childProcess
        );
        return {
            childProcess: childProcess,
            dartProcess: dartProcess,
        }
    }

    /**
     * Returns a human-readable version of an error. This works for
     * native JavaScript Error object and Node.js's syscall errors.
     * If err is a string, it returns err unchanged. If it's none of
     * those types, this returns a JSON string of the error.
     *
     * @param {Object} err - An Error, Node SystemError, or other object.
     *
     * @returns {string}
     */
    static formatError(err) {
        if (typeof err === 'string') {
            return err;
        }
        if (err.message) {
            return err.message;
        }
        if (err.code &amp;&amp; err.syscall &amp;&amp; err.path) {
            return Context.y18n.__("%s: Cannot %s %s", err.code, err.syscall, err.path)
        }
        return JSON.stringify(err);
    }

}

module.exports.Util = Util;
</code></pre>
  </article>
</section>

    


  </div>

  <br class="clear">

  <footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a>
  </footer>

  <script src="scripts/linenumber.js"></script>
  <script src="scripts/pagelocation.js"></script>

  

</body>
</html>
