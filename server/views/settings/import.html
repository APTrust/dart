{{ define "settings/import.html" }}

{{ template "partials/page_header.html" .}}

<h2>Import Settings</h2>

<form name="importSettingsForm" id="importSettingsForm" method="post" action="/settings/import">

  <div class="form-group" id="importSourceContainer">
    <div class="form-check">
      <input class="form-check-input" type="radio" name="importSource" id="importSourceUrl" value="url">
      <label class="form-check-label" for="importSourceUrl">
        Import from URL
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="importSource" id="importSourceTextArea" value="textarea">
      <label class="form-check-label" for="importSourceTextArea">
        Import from JSON (Cut and Paste)
      </label>
    </div>
  </div>

  <div class="form-group" id="txtUrlContainer" style="display:none;">
    <label class="control-label" for="txtUrl">Import Settings from Url</label>
    <input type="text" id="txtUrl" name="txtUrl" class="form-control" placeholder="Settings Url" />
  </div>

  <div class="form-group" id="txtJsonContainer" style="display:none;">
    <label class="control-label" for="txtJson">Settings JSON</label>
    <textarea id="txtJson" name="txtJson" class="form-control" rows="16"></textarea>
  </div>

  <div class="mt-1 mb-1">
    <div id="result" style="display:none">

    </div>
  </div>

  <div class="mt-1 mb-1">
    <div id="questions" style="display:none">

    </div>
  </div>


  <div class="bottom-buttons">
    <div class="float-right">
      <button class="btn btn-primary" type="submit" id="btnImport">Import</button>
    </div>
    <div class="float-right mr-3">
      <a role="button" class="btn btn-secondary" href="/">Cancel</a>
    </div>
  </div>

</form>

<script>
  $(function () {

    function showSuccess(message) {
      $('#result').hide();
      $('#result').removeClass('text-danger');
      $('#result').addClass('text-success');
      $('#result').text(message);
      $('#result').show();
    }

    function showError(message) {
      $('#result').hide();
      $('#result').addClass('text-danger');
      $('#result').removeClass('text-success');
      $('#result').text(message);
      $('#result').show();
    }

    function clearMessage() {
      $('#result').hide();
      $('#result').text('');
    }

    $('#importSourceUrl').on('click', function () {
      clearMessage()
      $('#txtJsonContainer').hide()
      $('#txtUrlContainer').show()
    });
    $('#importSourceTextArea').on('click', function () {
      clearMessage()
      $('#txtUrlContainer').hide()
      $('#txtJsonContainer').show()
    });
    // $('#btnImport').on('click', function() {
    //     clearMessage()
    //     importSettings()
    // });

    $('#importSourceUrl').click()
  })
</script>

{{ template "partials/page_footer.html" .}}

{{ end }}